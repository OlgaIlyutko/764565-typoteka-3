extends layout.pug

block content
  -
    const MAX_TEXT_LENGTH = 99
    const decreaseText = (text) => {
      if (text.length > 100)
        return text.slice(0, MAX_TEXT_LENGTH).concat(`...`)
      return text
    }
    
  main.main-page
    h1.visually-hidden Главная страница личного блога Типотека
    p
      | Это приветственный текст, который владелец блога может выбрать, чтобы описать себя 👏
    if (articles.all.articles.length > 0)
      include partials/categories.pug
      if (articles.commented.length > 0)
        .main-page__section-flex
          include partials/articles-discussed.pug
          include partials/articles-comments.pug
      else
        include partials/articles-no-comments.pug
      include partials/articles-all.pug
    else
      include partials/main-empty.pug     
    