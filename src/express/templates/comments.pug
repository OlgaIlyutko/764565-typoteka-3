extends layout.pug

block content
  -
    const formatDate = (dateString) => {
      const date = new Date(dateString);
      return date.toLocaleString('ru-RU', {day: '2-digit', month: 'numeric', year: 'numeric', hour: '2-digit', minute: '2-digit'});
    }
  main.main-page.main-page--padding
    section.main-page__publication.publication
      h1.publication__title Комментарии
      ul.publication__list
        each article of articles.all.articles
          each comment of article.comments
            li.publication__list-item
              .publication__header
                img.publication__list-image(src='/img/avatar-small-2.png' width='20' height='20' alt='Аватар пользователя')
                b.publication__list-name #{comment.users.firstName} #{comment.users.lastName}
                time.publication__item-time(datetime=`${comment.createdAt}`) #{formatDate(comment.createdAt)}
              a.publication__item-text(href='#')
                | #{article.title}
              p.publication__text-strong
                | #{comment.text}
              a.publication__button.button.button--close-item(href=`/articles/${article.id}/comments/${comment.id}`)
                span.visually-hidden Закрыть строку списка
